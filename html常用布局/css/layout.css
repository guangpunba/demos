*{margin:0; padding:0;}
@-webkit-keyframes changecolor{
    0%{
        background: red;
    }
    20%{
        background:blue;
        left:100px;
    }
    40%{
        left:200px;
        background:orange;
    }
    60%{
        left:100px;
        background:green;
    }
    80%{
        left:200px;
        background:yellow;
    }
    100%{
        left:0;
        background: #333;
    }
}
@-moz-keyframes changecolor{
    0%{
        background: red;
    }
    20%{
        background:blue;
        left:100px;
    }
    40%{
        left:200px;
        background:orange;
    }
    60%{
        left:100px;
        background:green;
    }
    80%{
        left:200px;
        background:yellow;
    }
    100%{
        left:0;
        background: #333;
    }
}
.main {
    width: 300px;
    height: 300px;
    background: red;
    color:#fff;

}
.p1{width:50px;height:50px;background:green;position:absolute;left:0px;}
.p2{width:50px;height:50px;background:green;position:absolute; left:0px;}
.main.on .p1{
    -webkit-animation: changecolor 5s ease-out 1s;
    -moz-animation: changecolor 5s ease-out 1s;
}
.main.on .p2{
    -webkit-animation: changecolor 5s ease-out 2s;
}